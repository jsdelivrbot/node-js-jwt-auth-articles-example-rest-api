{"version":3,"sources":["../../src/controllers/article.ctrl.js"],"names":["ArticleCtrl","addArticle","req","res","next","setHeader","body","text","title","obj","feature_img","article","Article","author","user","save","newArticle","toWeb"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,cAAc;AACVC,cADU;AAAA,4FACCC,GADD,EACMC,GADN,EACWC,IADX;AAAA;;AAAA;AAAA;AAAA;AAAA;AAGZD,gCAAIE,SAAJ,CAAc,cAAd,EAA8B,kBAA9B;AAHY,wCAIUH,IAAII,IAJd,EAINC,IAJM,aAINA,IAJM,EAIAC,KAJA,aAIAA,KAJA;AAKZ;;;;;;;AAQIC,+BAbQ,GAaF,EAAEF,UAAF,EAAQC,YAAR,EAAeE,aAAa,EAA5B,EAbE;AAcRC,mCAdQ,GAcE,IAAIC,iBAAJ,CAAYH,GAAZ,CAdF;;AAeZE,oCAAQE,MAAR,GAAiBX,IAAIY,IAArB;AAfY;AAAA,mCAgBWH,QAAQI,IAAR,EAhBX;;AAAA;AAgBRC,sCAhBQ;AAAA,6DAkBL,2BAAgBb,GAAhB,EAAqBa,WAAWC,KAAX,EAArB,CAlBK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAApB;;kBAsBejB,W","file":"article.ctrl.js","sourcesContent":["import Article from './../models/Article';\nimport User from './../models/User';\nimport fs from 'fs';\nimport cloudinary from 'cloudinary';\nimport {responseSuccess} from \"../services/util.service\";\n\nconst ArticleCtrl = {\n    async addArticle(req, res, next)\n    {\n        res.setHeader('Content-Type', 'application/json');\n        let { text, title } = req.body;\n        /*if (req.files) {\n            cloudinary.uploader.upload(req.files.image.path,\n                (result) => {\n\n                }\n            );\n        }*/\n\n        let obj = { text, title, feature_img: '' };\n        let article = new Article(obj);\n        article.author = req.user;\n        let newArticle = await article.save();\n\n        return responseSuccess(res, newArticle.toWeb());\n    }\n};\n\nexport default ArticleCtrl;\n"]}