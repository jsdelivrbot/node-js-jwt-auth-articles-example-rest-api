{"version":3,"sources":["../../src/models/Article.js"],"names":["ArticleSchema","mongoose","Schema","text","String","title","feature_img","author","type","Types","ObjectId","ref","methods","addAuthor","author_id","save","getUserArticle","_id","Article","find","then","article","toWeb","json","toJSON","id","model"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAIA,gBAAgB,IAAIC,mBAASC,MAAb,CAChB;AACIC,UAAMC,MADV;AAEIC,WAAOD,MAFX;AAGIE,iBAAaF,MAHjB;AAIIG,YAAQ;AACJC,cAAMP,mBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QADxB;AAEJC,aAAK;AAFD;AAJZ,CADgB,CAApB;;AAYAX,cAAcY,OAAd,CAAsBC,SAAtB,GAAkC,UAAUC,SAAV,EAAqB;AACnD,SAAKP,MAAL,GAAcO,SAAd;AACA,WAAO,KAAKC,IAAL,EAAP;AACH,CAHD;;AAKAf,cAAcY,OAAd,CAAsBI,cAAtB,GAAuC,UAAUC,GAAV,EAAe;AAClDC,YAAQC,IAAR,CAAa,EAAC,UAAUF,GAAX,EAAb,EAA8BG,IAA9B,CAAmC,UAACC,OAAD,EAAa;AAC5C,eAAOA,OAAP;AACH,KAFD;AAGH,CAJD;;AAMArB,cAAcY,OAAd,CAAsBU,KAAtB,GAA8B,YAAU;AACpC,QAAIC,OAAO,KAAKC,MAAL,EAAX;AACAD,SAAKE,EAAL,GAAU,KAAKR,GAAf,CAFoC,CAEjB;AACnB,WAAOM,IAAP;AACH,CAJD;;kBAOetB,mBAASyB,KAAT,CAAe,SAAf,EAA0B1B,aAA1B,C","file":"Article.js","sourcesContent":["import mongoose from 'mongoose';\n\nlet ArticleSchema = new mongoose.Schema(\n    {\n        text: String,\n        title: String,\n        feature_img: String,\n        author: {\n            type: mongoose.Schema.Types.ObjectId,\n            ref: 'User'\n        }\n    }\n);\n\nArticleSchema.methods.addAuthor = function (author_id) {\n    this.author = author_id;\n    return this.save()\n};\n\nArticleSchema.methods.getUserArticle = function (_id) {\n    Article.find({'author': _id}).then((article) => {\n        return article\n    })\n};\n\nArticleSchema.methods.toWeb = function(){\n    let json = this.toJSON();\n    json.id = this._id;//this is for the front end\n    return json;\n};\n\n\nexport default mongoose.model('Article', ArticleSchema);\n"]}